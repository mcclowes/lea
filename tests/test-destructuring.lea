-- Test: Destructuring patterns

-- Record destructuring
let user = { name: "Alice", age: 30, city: "NYC" }
let { name, age } = user
name /> print  -- Alice
age /> print   -- 30

-- Partial record destructuring (don't have to get all fields)
let { city } = user
city /> print  -- NYC

-- Tuple destructuring
let point = (10, 20)
let (x, y) = point
x /> print  -- 10
y /> print  -- 20

-- List destructuring (using tuple syntax)
let coords = [100, 200, 300]
let (a, b, c) = coords
a /> print  -- 100
b /> print  -- 200
c /> print  -- 300

-- Destructuring with partition result
let numbers = [1, 2, 3, 4, 5, 6]
let (evens, odds) = partition(numbers, (x) -> x % 2 == 0)
evens /> print  -- [2, 4, 6]
odds /> print   -- [1, 3, 5]

-- Nested record with destructuring
let config = {
  host: "localhost",
  port: 8080
}
let { host, port } = config
host /> print  -- localhost
port /> print  -- 8080

-- Using destructured values in expressions
let point2 = (3, 4)
let (px, py) = point2
let distance = sqrt(px * px + py * py)
distance /> print  -- 5

print("Destructuring tests passed!")
